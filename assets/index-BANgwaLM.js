(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(t){if(t.ep)return;t.ep=!0;const i=r(t);fetch(t.href,i)}})();const O="https://ttt-mauve-rho.vercel.app",y=O,U={animekai:{base:y+"/anime/animekai",templates:{search:y+"/anime/animekai/{query}",info:y+"/anime/animekai/info?id={id}",episodes:y+"/anime/animekai/episodes/{id}",watch:y+"/anime/animekai/watch/{episodeId}"}},animepahe:{base:y+"/anime/animepahe",templates:{search:y+"/anime/animepahe/{query}",info:y+"/anime/animepahe/info/{id}",episodes:y+"/anime/animepahe/episodes/{id}",watch:y+"/anime/animepahe/watch?episodeId={episodeId}"}},"hianime-scrap":{base:"https://api.animo.qzz.io/api/v1",templates:{search:"https://api.animo.qzz.io/api/v1/search?keyword={query}&page=1",info:"https://api.animo.qzz.io/api/v1/animes/{id}",episodes:"https://api.animo.qzz.io/api/v1/episodes/{id}",servers:"https://api.animo.qzz.io/api/v1/servers?id={id}",stream:"https://api.animo.qzz.io/api/v1/stream?id={id}&type={type}&server={server}"}}},R="https://renewed-georgeanne-nekonode-1aa70c0c.koyeb.app";function v(e,n,r={}){const s=U[e];if(!s)return console.error(`Provider ${e} not found`),"";const t=s.templates[n];if(!t)return console.error(`Template ${n} not found for provider ${e}`),"";let i=t;return Object.keys(r).forEach(o=>{let a=r[o];o==="episodeId"?a=encodeURIComponent(a):a!=null?a=encodeURIComponent(String(a)):a="",i=i.replace(new RegExp(`\\{${o}\\}`,"g"),a)}),i}async function g(e,n={}){try{const r=await fetch(e,{...n,headers:{Accept:"application/json","Content-Type":"application/json",...n.headers}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){throw console.error(`Fetch error for ${e}:`,r),r}}document.getElementById("app");const P=document.getElementById("searchInput"),_=document.getElementById("searchBtn"),k=document.getElementById("providerSelect"),L=document.getElementById("results"),$=document.getElementById("details"),H=document.getElementById("episodes"),l=document.getElementById("servers");let I={};function M(e,n="info"){const r=document.querySelector(".toast-container");r&&r.remove();const s=document.createElement("div");s.className="toast-container";const t=document.createElement("div");t.className=`toast ${n}`;const i=n==="success"?"âœ“":n==="error"?"âœ•":"â„¹";t.innerHTML=`<span style="font-size:1.2em;">${i}</span> ${e}`,s.appendChild(t),document.body.appendChild(s),setTimeout(()=>{t.style.opacity="0",t.style.transform="translateX(100px)",t.style.transition="all 0.3s ease",setTimeout(()=>s.remove(),300)},3e3)}function D(){let n="";for(let r=0;r<12;r++)n+=`
      <div class="skeleton-card">
        <div class="skeleton skeleton-img"></div>
        <div class="skeleton skeleton-text"></div>
        <div class="skeleton skeleton-text short"></div>
      </div>
    `;L.innerHTML=n}async function C(){const e=P.value.trim();if(!e){M("Please enter a search query","warning");return}try{D();const n=k.value,r=v(n,"search",{query:e});console.log("Search URL:",r);const s=await g(r);let t=[];if(s&&s.data&&s.data.response&&Array.isArray(s.data.response)?t=s.data.response:Array.isArray(s)?t=s:s&&s.results&&Array.isArray(s.results)?t=s.results:s&&s.anime&&Array.isArray(s.anime)?t=s.anime:s&&s.data&&Array.isArray(s.data)&&(t=s.data),t.length===0){L.innerHTML='<p style="text-align:center;padding:40px;color:var(--text-light);">No results found. Try a different search term.</p>';return}q(t),M(`Found ${t.length} results`,"success")}catch(n){console.error("Search error:",n),L.innerHTML=`<p class="error" style="text-align:center;padding:40px;color:var(--accent);">Search failed: ${n.message}. Check your connection and try again.</p>`}}function q(e){I={},L.innerHTML=e.map(n=>{const r=n.title||n.name||n.englishName||"Unknown Title",s=n.id||n.animeId||n.mal_id||"",t=n.image||n.poster||n.coverImage||"https://via.placeholder.com/150x200",i=n.releaseDate||n.year||n.startDate||"N/A";let o="";if(n.episodes)if(typeof n.episodes=="object"){const f=n.episodes.sub||0,d=n.episodes.dub||0,c=n.episodes.eps||0;f>0||d>0?o=`<p>${f>0?`Sub: ${f}`:""}${f>0&&d>0?" | ":""}${d>0?`Dub: ${d}`:""}</p>`:c>0&&(o=`<p>Episodes: ${c}</p>`)}else o=`<p>Episodes: ${n.episodes}</p>`;const a=n.type?`<p>${n.type}</p>`:"",p=n.duration?`<p>${n.duration}</p>`:"";return k.value==="hianime-scrap"?(I[s]=n,`
        <div class="anime-card" onclick="selectAnime('${s.replace(/'/g,"\\'")}')">
          <img src="${t}" alt="${r}" loading="lazy">
          <h3>${r}</h3>
          ${o}
          ${a}
          ${p}
          <p>${i}</p>
        </div>
      `):`
      <div class="anime-card" onclick="selectAnime('${s.replace(/'/g,"\\'")}', '${r.replace(/'/g,"\\'")}')">
        <img src="${t}" alt="${r}" loading="lazy">
        <h3>${r}</h3>
        ${o}
        ${a}
        ${p}
        <p>${i}</p>
      </div>
    `}).join("")}async function j(e,n){var i,o,a,p,u,f;if(!e){alert("Invalid anime ID");return}const r=k.value,s=r==="hianime-scrap",t=s?I[e]:null;try{if($.innerHTML="<p>Loading details...</p>",s&&t){const m={...t,id:t.id||e,__provider:r};try{const E=v(r,"episodes",{id:e});console.log("Episodes URL:",E);const S=await g(E);if(m.episodes=x(S,r),m.episodes.length>0){T(m,t.title);return}}catch(E){console.warn("Could not fetch episodes for hianime-scrap:",E)}const b=((i=m.episodes)==null?void 0:i.eps)||((o=m.episodes)==null?void 0:o.sub)||((a=m.episodes)==null?void 0:a.dub)||((p=m.episodes)==null?void 0:p.total)||((u=m.episodes)==null?void 0:u.episodeCount)||((f=m.episodes)==null?void 0:f.totalEpisodes)||0;b>0?(m.episodes=Array.from({length:Math.min(b,500)},(E,S)=>({id:`${e}::ep=${S+1}`,number:S+1,title:`Episode ${S+1}`,isFiller:!1})),console.log(`Generated ${b} episode buttons from count`)):m.episodes=[],T(m,t.title);return}const d=typeof n=="string"?n:null,c=v(r,"info",{id:e});console.log("Info URL:",c);const h=await g(c);let w=z(h,e,r);if(!w.episodes||w.episodes.length===0)try{const m=v(r,"episodes",{id:e});console.log("Episodes URL:",m);const b=await g(m);w.episodes=x(b,r)}catch(m){console.warn("Could not fetch episodes separately:",m),w.episodes=[]}w.__provider=r,T(w,d||w.title)}catch(d){console.error("Details error:",d),$.innerHTML=`<p class="error">Error loading anime details: ${d.message}</p>`}}function z(e,n,r){var s,t,i;if(e&&e.data&&r==="hianime-scrap")return{...e.data,id:e.data.id||n,title:e.data.title,poster:e.data.poster,image:e.data.poster,type:e.data.type,status:e.data.status,genres:e.data.genres||[],description:e.data.description||e.data.synopsis||"",totalEpisodes:((s=e.data.episodes)==null?void 0:s.eps)||((t=e.data.episodes)==null?void 0:t.sub)||((i=e.data.episodes)==null?void 0:i.dub)||"Unknown"};if(Array.isArray(e)){const o=e.find(a=>a&&a.id===n)||e[0];return o?{...o,id:o.id||n}:{id:n,episodes:[]}}if(e&&e.results&&Array.isArray(e.results)){const o=e.results.find(a=>a&&a.id===n)||e.results[0];return o?{...o,id:o.id||n}:{...e,id:e.id||n}}return e&&e.data?{...e.data,id:e.data.id||n}:e&&(e.title||e.name||e.englishName)?{...e,id:e.id||n}:{id:n,...e||{}}}function x(e,n){return e?n==="hianime-scrap"&&e&&e.data&&Array.isArray(e.data)?e.data.map((r,s)=>({id:r.id||`${s+1}`,number:r.episodeNumber||s+1,title:r.title||r.alternativeTitle||`Episode ${r.episodeNumber||s+1}`,isFiller:r.isFiller||!1})):Array.isArray(e)?e.map((r,s)=>({id:r.id||r.episodeId||`${s+1}`,number:r.number||r.episode||r.ep||s+1,title:r.title||r.name||`Episode ${s+1}`})):e.episodes&&Array.isArray(e.episodes)?e.episodes.map((r,s)=>({id:r.id||r.episodeId||`${s+1}`,number:r.number||r.episode||r.ep||s+1,title:r.title||r.name||`Episode ${s+1}`})):e.data&&Array.isArray(e.data)?e.data.map((r,s)=>({id:r.id||r.episodeId||`${s+1}`,number:r.number||r.episode||r.ep||s+1,title:r.title||r.name||`Episode ${s+1}`})):[]:[]}async function B(e,n){if(!e){alert("Invalid episode ID");return}const r=k.value;try{if(l.innerHTML=`
      <h3>Servers for Episode ${n||"?"}</h3>
      <p class="loading-servers" style="padding: 20px; text-align: center; color: var(--accent);">
        <span class="loading-spinner"></span> Loading servers...
      </p>
    `,r==="hianime-scrap"){let i=e,o=n;const a=e.match(/::ep=(\d+)$/);a&&(o=a[1],console.log(`Episode ${o} selected (ID: ${e})`));const p=v(r,"servers",{id:e});console.log("Servers URL:",p);const u=await g(p);V(u,o||n||"1",e),l.scrollIntoView({behavior:"smooth"});return}if(r==="animepahe"){const i=v(r,"watch",{episodeId:e});console.log("Watch URL:",i);const o=await g(i);A(o,n||"1"),l.scrollIntoView({behavior:"smooth"});return}if(r==="animekai"){const i=v(r,"watch",{episodeId:e});console.log("Watch URL:",i);const o=await g(i);A(o,n||"1"),l.scrollIntoView({behavior:"smooth"});return}const s=v(r,"servers",{id:e});console.log("Servers URL:",s);const t=await g(s);A(t,n||"1"),l.scrollIntoView({behavior:"smooth"})}catch(s){console.error("Servers error:",s),l.innerHTML=`<p class="error">Error loading servers: ${s.message}. Try a different episode.</p>`}}window.selectAnime=j;window.selectEpisode=B;function T(e,n){var d;console.log("Displaying anime details:",e);const r=e.title||n||"Unknown Title",s=e.image||e.poster||e.coverImage||"https://via.placeholder.com/200x300",t=e.japaneseTitle||e.jname||"",i=e.type||e.format||"Unknown",o=e.status||"",a=e.genres||(e.genre?[e.genre]:[]),p=e.totalEpisodes||e.episodeCount||((d=e.episodes)==null?void 0:d.length)||"Unknown",u=e.description||e.synopsis||"No description available",f=e.url||e.animeUrl||"";$.innerHTML=`
    <div class="anime-details">
      <div class="anime-header">
        <img src="${s}" alt="${r}" onerror="this.src='https://via.placeholder.com/200x300'">
        <div class="anime-info">
          <h2>${r}</h2>
          ${t?`<p><strong>Japanese:</strong> ${t}</p>`:""}
          <p><strong>Type:</strong> ${i}</p>
          ${o?`<p><strong>Status:</strong> ${o}</p>`:""}
          ${a.length>0?`<p><strong>Genres:</strong> ${a.join(", ")}</p>`:""}
          <p><strong>Episodes:</strong> ${p}</p>
          <p><strong>Description:</strong> ${u}</p>
          ${f?`<p><a href="${f}" target="_blank" rel="noopener noreferrer" class="watch-link">View on Provider â†’</a></p>`:""}
        </div>
      </div>
    </div>
  `,$.scrollIntoView({behavior:"smooth"}),e.episodes&&e.episodes.length>0?(e.episodes,F(e.episodes)):H.innerHTML="<p>No episodes available</p>",l.innerHTML=""}function F(e){H.innerHTML="<h3>Episodes</h3>";const n=e.map((r,s)=>{const t=r.number||r.episode||r.ep||s+1,i=r.title||r.name||"",o=r.id||`${s+1}`,a=r.isFiller,p=a?'<span style="color:#ffcc00;font-size:0.7em;"> â˜…Filler</span>':"";return`
      <button 
        class="episode-btn ${a?"filler":""}" 
        onclick="selectEpisode('${String(o).replace(/'/g,"\\'")}', '${t}')"
        title="${i}${a?" (Filler)":""}"
      >
        ${t}${p}
        ${i?`<br><small style="font-size:0.7em">${i.substring(0,20)}${i.length>20?"...":""}</small>`:""}
      </button>
    `}).join("");H.innerHTML+=`<div class="episodes-grid">${n}</div>`}function V(e,n,r){if(l.innerHTML=`<h3>Servers for Episode ${n}</h3>`,!e||!e.success||!e.data){l.innerHTML+="<p>No servers available for this episode. Try a different episode.</p>";return}const s=e.data,t=s.sub||[],i=s.dub||[],o=s.raw||[];if(t.length===0&&i.length===0&&o.length===0){l.innerHTML+="<p>No servers available for this episode. Try a different episode.</p>";return}window.hianimeScrapServerData={episodeId:r,sub:t,dub:i,raw:o};let a='<div class="servers-tabs">';a+=`<div class="server-tab ${t.length>0?"active":""}" onclick="showHianimeScrapServers('sub')">Sub (${t.length})</div>`,a+=`<div class="server-tab ${t.length===0&&i.length>0?"active":""}" onclick="showHianimeScrapServers('dub')">Dub (${i.length})</div>`,a+=`<div class="server-tab ${t.length===0&&i.length===0&&o.length>0?"active":""}" onclick="showHianimeScrapServers('raw')">Raw (${o.length})</div>`,a+="</div>",a+='<div id="hianimeScrapServersList" class="servers-list"></div>',l.innerHTML+=a,t.length>0?showHianimeScrapServers("sub"):i.length>0?showHianimeScrapServers("dub"):showHianimeScrapServers("raw")}window.showHianimeScrapServers=function(e){const n=document.getElementById("hianimeScrapServersList");if(!n||!window.hianimeScrapServerData)return;document.querySelectorAll(".server-tab").forEach(s=>{s.classList.remove("active"),s.textContent.toLowerCase().includes(e)&&s.classList.add("active")});const r=window.hianimeScrapServerData[e]||[];if(r.length===0){n.innerHTML=`<p>No ${e} servers available.</p>`;return}n.innerHTML=r.map(s=>{const t=s.name||`Server ${s.index||""}`,i=s.id,o=e;return`
      <div class="server-option">
        <strong>${t}</strong>
        <p>Type: ${o.charAt(0).toUpperCase()+o.slice(1)}</p>
        <p><button class="play-btn" onclick="playHianimeScrapStream('${i}', '${o}', '${t.replace(/'/g,"\\'")}')">â–¶ Play</button></p>
      </div>
    `}).join("")};window.playHianimeScrapStream=async function(e,n,r){if(!window.hianimeScrapServerData)return alert("No server data available");const s=window.hianimeScrapServerData.episodeId,t=v("hianime-scrap","stream",{id:s,type:n,server:r});console.log("Stream URL:",t);try{let i=l.querySelector(".stream-loading");i||(i=document.createElement("p"),i.className="stream-loading",i.innerHTML='<span class="loading-spinner"></span> Loading stream...',i.style.cssText="padding: 20px; text-align: center; color: var(--accent);",l.prepend(i));const o=await g(t);if(i&&i.parentNode&&i.parentNode.removeChild(i),o&&o.success&&o.data)W(o.data,r);else{let a=l.querySelector(".stream-error");a||(a=document.createElement("p"),a.className="stream-error error",a.textContent="Failed to load stream. Try a different server.",l.prepend(a))}}catch(i){console.error("Stream error:",i);const o=l.querySelector(".stream-loading");o&&o.parentNode&&o.parentNode.removeChild(o);let a=l.querySelector(".stream-error");a||(a=document.createElement("p"),a.className="stream-error error",a.textContent=`Error loading stream: ${i.message}`,l.prepend(a))}};function W(e,n){var f,d;const r=((f=e.link)==null?void 0:f.file)||((d=e.link)==null?void 0:d.directUrl)||"",s=e.tracks||[],t=e.intro||{start:0,end:0},i=e.outro||{start:0,end:0};if(!r){if(!l.querySelector(".stream-error")){const h=document.createElement("p");h.className="stream-error error",h.textContent="No video URL available",l.prepend(h)}return}let o=document.getElementById("videoPlayer");if(o)l.prepend(o);else{o=document.createElement("div"),o.id="videoPlayer",o.className="video-player-section",o.style.marginBottom="20px";const c=l.querySelector("#videoPlayer");c&&c.remove(),l.prepend(o)}let a="";s.length>0&&(a=s.map(c=>c.kind==="captions"||c.kind==="subtitles"?`<track label="${c.label}" kind="${c.kind}" src="${c.file}" ${c.default?"default":""}>`:"").join(""));let p="";(t.start!==0||t.end!==0)&&(p+=`<p style="color:#ffcc00;">Skip intro: ${t.start}s - ${t.end}s</p>`),(i.start!==0||i.end!==0)&&(p+=`<p style="color:#ffcc00;">Skip outro: ${i.start}s - ${i.end}s</p>`),o.innerHTML=`
    <h3>Now Playing: ${n}</h3>
    <video id="animeVideo" controls style="width:100%; max-height:60vh; background:#000; border-radius:8px;" crossorigin="anonymous">
      <source src="${r}" type="application/vnd.apple.mpegurl">
      ${a}
    </video>
    ${p}
    <p style="margin-top:10px; font-size:0.9em; color:var(--text-light);">
      <a href="${r}" target="_blank" rel="noopener noreferrer">Open video in new tab</a> | 
      <a href="#" onclick="location.reload(); return false;">Refresh player</a>
    </p>
  `;const u=document.getElementById("animeVideo");if(s.length>0&&s.forEach(c=>{if(c.kind==="captions"||c.kind==="subtitles"){const h=u.textTracks[0];h&&(h.mode=c.default?"showing":"hidden")}}),u.canPlayType("application/vnd.apple.mpegurl")){u.src=r,u.play().catch(c=>{console.warn("Auto-play prevented:",c)});return}G(u,r)}function G(e,n){try{if(window.Hls)N(e,n);else{const r=document.createElement("script");r.src="https://cdn.jsdelivr.net/npm/hls.js@1.4.12/dist/hls.min.js",r.onload=()=>N(e,n),r.onerror=()=>{console.error("Failed to load HLS.js"),window.open(n,"_blank")},document.head.appendChild(r)}}catch(r){console.warn("HLS playback failed:",r),window.open(n,"_blank")}}function N(e,n){if(!window.Hls)return;const r=new window.Hls({enableWorker:!0,lowLatencyMode:!0});r.loadSource(n),r.attachMedia(e),r.on(window.Hls.Events.MANIFEST_PARSED,()=>{e.play().catch(s=>{console.warn("Auto-play prevented:",s)})}),r.on(window.Hls.Events.ERROR,(s,t)=>{if(console.error("HLS error:",t),t.fatal)switch(t.type){case window.Hls.ErrorTypes.NETWORK_ERROR:r.startLoad();break;case window.Hls.ErrorTypes.MEDIA_ERROR:r.recoverMediaError();break;default:window.open(n,"_blank");return}})}function A(e,n){l.innerHTML=`<h3>Servers for Episode ${n}</h3>`;let r=[];if(Array.isArray(e)?r=e:e&&e.servers&&Array.isArray(e.servers)?r=e.servers:e&&e.sources&&Array.isArray(e.sources)?r=e.sources:e&&e.data&&Array.isArray(e.data)?r=e.data:e&&e.streamingServers&&Array.isArray(e.streamingServers)&&(r=e.streamingServers),r.length===0){l.innerHTML+="<p>No servers available for this episode. Try a different episode.</p>";return}let s='<div class="servers-list">';r.forEach((t,i)=>{const o=t.name||t.serverName||t.quality||`Server ${i+1}`,a=t.url||t.file||t.src||t.streamUrl||"";if(s+=`
      <div class="server-option">
        <strong>${o}</strong>
    `,a){const p=`${R}/fetch?url=${encodeURIComponent(a)}`;s+=`
        <p><a href="${a}" target="_blank" rel="noopener noreferrer">Open Original</a></p>
        <p><a href="${p}" target="_blank" rel="noopener noreferrer">Open via Proxy</a></p>
        <p><button class="play-btn" onclick="playStream('${p.replace(/'/g,"\\'")}', '${o.replace(/'/g,"\\'")}')">â–¶ Play</button></p>
      `,t.sources&&Array.isArray(t.sources)&&t.sources.forEach((u,f)=>{const d=u.url||u.file||u.src||"";if(d){const c=`${R}/fetch?url=${encodeURIComponent(d)}`,h=u.quality||`Source ${f+1}`;s+=`
              <hr style="margin: 10px 0; border-color: rgba(233,69,96,0.3);">
              <p><strong>${h}</strong></p>
              <p><a href="${d}" target="_blank" rel="noopener noreferrer">Open Original</a></p>
              <p><a href="${c}" target="_blank" rel="noopener noreferrer">Open via Proxy</a></p>
              <p><button class="play-btn" onclick="playStream('${c.replace(/'/g,"\\'")}', '${h.replace(/'/g,"\\'")}')">â–¶ Play</button></p>
            `}})}else s+="<p>No direct URL available</p>";(t.intro||t.outro)&&(s+='<p class="meta">',t.intro&&(s+=`Intro: ${t.intro.start}-${t.intro.end}s `),t.outro&&(s+=`Outro: ${t.outro.start}-${t.outro.end}s`),s+="</p>"),s+="</div>"}),s+="</div>",l.innerHTML+=s}window.playStream=async function(e,n){if(!e)return alert("No stream URL available");console.log("Playing stream:",e);let r=document.getElementById("videoPlayer");if(r)l.prepend(r);else{r=document.createElement("div"),r.id="videoPlayer",r.style.marginBottom="20px";const t=l.querySelector("#videoPlayer");t&&t.remove(),l.prepend(r)}r.innerHTML=`
    <h3>Now Playing: ${n}</h3>
    <video id="animeVideo" controls style="width:100%; max-height:60vh; background:#000; border-radius:8px;"></video>
    <p style="margin-top:10px; font-size:0.9em; color:var(--text-light);">
      <a href="${e}" target="_blank" rel="noopener noreferrer">Open video in new tab</a> | 
      <a href="#" onclick="location.reload(); return false;">Refresh player</a>
    </p>
  `;const s=document.getElementById("animeVideo");if(s.canPlayType("application/vnd.apple.mpegurl")){s.src=e,s.play().catch(t=>{console.warn("Auto-play prevented:",t)});return}try{if(window.Hls||await new Promise((t,i)=>{const o=document.createElement("script");o.src="https://cdn.jsdelivr.net/npm/hls.js@1.4.12/dist/hls.min.js",o.onload=t,o.onerror=()=>i(new Error("Failed to load HLS.js")),document.head.appendChild(o)}),window.Hls){const t=new window.Hls({enableWorker:!0,lowLatencyMode:!0});t.loadSource(e),t.attachMedia(s),t.on(window.Hls.Events.MANIFEST_PARSED,()=>{s.play().catch(i=>{console.warn("Auto-play prevented:",i)})}),t.on(window.Hls.Events.ERROR,(i,o)=>{if(console.error("HLS error:",o),o.fatal)switch(o.type){case window.Hls.ErrorTypes.NETWORK_ERROR:t.startLoad();break;case window.Hls.ErrorTypes.MEDIA_ERROR:t.recoverMediaError();break;default:window.open(e,"_blank");return}});return}}catch(t){console.warn("HLS playback failed:",t)}window.open(e,"_blank")};_.addEventListener("click",C);P.addEventListener("keypress",e=>{e.key==="Enter"&&C()});k.addEventListener("change",()=>{L.innerHTML="",$.innerHTML="",H.innerHTML="",l.innerHTML=""});$.innerHTML=`
  <div style="text-align:center; padding:40px;">
    <h2>Welcome to AnimeFlix! ðŸŽŒ</h2>
    <p style="margin-top:20px;">Search for your favorite anime above to get started.</p>
    <p style="color:var(--text-light); margin-top:10px;">Select a provider from the dropdown and enter a search term.</p>
  </div>
`;
